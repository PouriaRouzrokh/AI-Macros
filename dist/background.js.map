{"version":3,"file":"background.js","mappings":";;;;AAAA;;AAEA;AACAA,MAAM,CAACC,SAAS,CACbC,gBAAgB,CAAC;EAAEC,sBAAsB,EAAE;AAAK,CAAC,CAAC,SAC7C,CAAC,UAACC,KAAK;EAAA,OAAKC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;AAAA,EAAC;;AAEzC;AACAJ,MAAM,CAACM,IAAI,CAACC,WAAW,CAACC,WAAW,CAAC,UAACC,UAAU,EAAK;EAClDT,MAAM,CAACM,IAAI,CAACI,GAAG,CAACD,UAAU,CAACE,KAAK,EAAE,UAACC,GAAG,EAAK;IACzC,IAAIA,GAAG,IAAIA,GAAG,CAACC,GAAG,IAAID,GAAG,CAACC,GAAG,CAACC,UAAU,CAAC,MAAM,CAAC,EAAE;MAChDd,MAAM,CAACM,IAAI,CAACS,WAAW,CAACN,UAAU,CAACE,KAAK,EAAE;QAAEK,MAAM,EAAE,cAAc;QAAEC,IAAI,EAAE;MAAK,CAAC,CAAC;IACnF,CAAC,MAAM;MACLjB,MAAM,CAACM,IAAI,CAACS,WAAW,CAACN,UAAU,CAACE,KAAK,EAAE;QAAEK,MAAM,EAAE,cAAc;QAAEC,IAAI,EAAE;MAAM,CAAC,CAAC;IACpF;EACF,CAAC,CAAC;AACJ,CAAC,CAAC;;AAEF;AACAjB,MAAM,CAACM,IAAI,CAACY,SAAS,CAACV,WAAW,CAAC,UAACG,KAAK,EAAEQ,UAAU,EAAEP,GAAG,EAAK;EAC5D,IAAIO,UAAU,CAACC,MAAM,KAAK,UAAU,IAAIR,GAAG,IAAIA,GAAG,CAACC,GAAG,EAAE;IACtD,IAAID,GAAG,CAACC,GAAG,CAACC,UAAU,CAAC,MAAM,CAAC,EAAE;MAC9Bd,MAAM,CAACM,IAAI,CAACS,WAAW,CAACJ,KAAK,EAAE;QAAEK,MAAM,EAAE,cAAc;QAAEC,IAAI,EAAE;MAAK,CAAC,CAAC;IACxE,CAAC,MAAM;MACLjB,MAAM,CAACM,IAAI,CAACS,WAAW,CAACJ,KAAK,EAAE;QAAEK,MAAM,EAAE,cAAc;QAAEC,IAAI,EAAE;MAAM,CAAC,CAAC;IACzE;EACF;AACF,CAAC,CAAC;;AAEF;AACAjB,MAAM,CAACqB,OAAO,CAACC,SAAS,CAACd,WAAW,CAAC,UAACe,OAAO,EAAEC,MAAM,EAAEC,YAAY,EAAK;EACtE,IAAIF,OAAO,CAACP,MAAM,KAAK,gBAAgB,EAAE;IACvChB,MAAM,CAACC,SAAS,CAACyB,IAAI,CAAC;MAAEf,KAAK,EAAEa,MAAM,CAACZ,GAAG,CAACe;IAAG,CAAC,CAAC;EACjD;AACF,CAAC,CAAC,C","sources":["webpack://ai-macros/./src/background.js"],"sourcesContent":["// Bubble handling ---------------------------------------------------------------------------\n\n// Allows users to open the side panel by clicking on the action toolbar icon\nchrome.sidePanel\n  .setPanelBehavior({ openPanelOnActionClick: true })\n  .catch((error) => console.error(error));\n\n// Show/hide bubble when tab becomes active/inactive\nchrome.tabs.onActivated.addListener((activeInfo) => {\n  chrome.tabs.get(activeInfo.tabId, (tab) => {\n    if (tab && tab.url && tab.url.startsWith('http')) {\n      chrome.tabs.sendMessage(activeInfo.tabId, { action: 'toggleBubble', show: true });\n    } else {\n      chrome.tabs.sendMessage(activeInfo.tabId, { action: 'toggleBubble', show: false });\n    }\n  });\n});\n\n// Show/hide bubble when URL changes\nchrome.tabs.onUpdated.addListener((tabId, changeInfo, tab) => {\n  if (changeInfo.status === 'complete' && tab && tab.url) {\n    if (tab.url.startsWith('http')) {\n      chrome.tabs.sendMessage(tabId, { action: 'toggleBubble', show: true });\n    } else {\n      chrome.tabs.sendMessage(tabId, { action: 'toggleBubble', show: false });\n    }\n  }\n});\n\n// Open the side panel when the bubble is clicked\nchrome.runtime.onMessage.addListener((request, sender, sendResponse) => {\n  if (request.action === 'clickSidePanel') {\n    chrome.sidePanel.open({ tabId: sender.tab.id });\n  }\n});"],"names":["chrome","sidePanel","setPanelBehavior","openPanelOnActionClick","error","console","tabs","onActivated","addListener","activeInfo","get","tabId","tab","url","startsWith","sendMessage","action","show","onUpdated","changeInfo","status","runtime","onMessage","request","sender","sendResponse","open","id"],"sourceRoot":""}